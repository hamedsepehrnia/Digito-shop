{% extends 'core/base.html' %}
{% load static %}
{% block content %}
<main class="mt-0 md:mt-8">
<!-- contact us -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-10 md:gap-8 mx-4 md:mx-32 mb-8 md:my-12 border border-zinc-200 rounded-2xl p-4 md:p-8">
    <div class="space-y-4 md:space-y-6">
        <h2 class="text-xl md:text-2xl font-yekanBakhBold text-zinc-800 mb-4">ارسال پیام</h2>
        
        {% if messages %}
            {% for message in messages %}
            <div class="mb-4 p-3 rounded-lg {% if message.tags == 'success' %}bg-green-50 text-green-700 border border-green-200{% elif message.tags == 'error' %}bg-red-50 text-red-700 border border-red-200{% else %}bg-blue-50 text-blue-700 border border-blue-200{% endif %}">
                {{ message }}
            </div>
            {% endfor %}
        {% endif %}
        
        <form method="post" action="{% url 'contact' %}">
            {% csrf_token %}
            <div>
                <p class="text-xs text-zinc-600 pb-3 pr-2">
                    نام و نام خانوادگی:
                </p>
                {{ form.name }}
                {% if form.name.errors %}
                <div class="mt-2 text-sm text-red-600">
                    {{ form.name.errors }}
                </div>
                {% endif %}
            </div>
            <div>
                <p class="text-xs text-zinc-600 pb-3 pr-2">
                    شماره تلفن:
                </p>
                {{ form.phone }}
                {% if form.phone.errors %}
                <div class="mt-2 text-sm text-red-600">
                    {{ form.phone.errors }}
                </div>
                {% endif %}
            </div>
            <div>
                <p class="text-xs text-zinc-600 pb-3 pr-2">
                    پیام شما:
                </p>
                {{ form.message }}
                {% if form.message.errors %}
                <div class="mt-2 text-sm text-red-600">
                    {{ form.message.errors }}
                </div>
                {% endif %}
            </div>
            <button type="submit" class="bg-gradient-to-bl from-primary-500 to-primary-400 hover:opacity-90 hover:shadow-lg transition rounded-xl py-2.5 md:py-3 px-10 md:px-14 text-sm text-white mt-4">
                ارسال
            </button>
        </form>
    </div>
    <div>
        {% if contact_info %}
        <div class="text-zinc-600 text-sm md:text-base text-center border-b-2 border-b-primary-500 pb-1 w-fit mx-auto">
            اطلاعات تماس
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-2 gap-y-6 mt-6 mb-10">
            {% if contact_info.email %}
            <p class="flex gap-x-2 text-xs md:text-sm text-zinc-700">
                <svg fill="none" height="18" viewbox="0 0 16 16" width="18" xmlns="http://www.w3.org/2000/svg">
                    <path class="fill-zinc-600" clip-rule="evenodd" d="M14.95 3.684L8.637 8.912C8.45761 9.06063 8.23196 9.14196 7.999 9.14196C7.76604 9.14196 7.54039 9.06063 7.361 8.912L1.051 3.684C1.01714 3.78591 0.999922 3.89261 1 4V12C1 12.2652 1.10536 12.5196 1.29289 12.7071C1.48043 12.8946 1.73478 13 2 13H14C14.2652 13 14.5196 12.8946 14.7071 12.7071C14.8946 12.5196 15 12.2652 15 12V4C15.0004 3.89267 14.9835 3.78597 14.95 3.684ZM2 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V12C16 12.5304 15.7893 13.0391 15.4142 13.4142C15.0391 13.7893 14.5304 14 14 14H2C1.46957 14 0.960859 13.7893 0.585786 13.4142C0.210714 13.0391 0 12.5304 0 12V4C0 3.46957 0.210714 2.96086 0.585786 2.58579C0.960859 2.21071 1.46957 2 2 2ZM1.79 3L7.366 7.603C7.54459 7.75051 7.76884 7.83144 8.00046 7.83199C8.23209 7.83254 8.45672 7.75266 8.636 7.606L14.268 3H1.79Z" fill="black" fill-rule="evenodd"></path>
                </svg>
                ایمیل: {{ contact_info.email }}
            </p>
            {% endif %}
            {% if contact_info.postal_code %}
            <p class="flex gap-x-2 text-xs md:text-sm text-zinc-700">
                <svg fill="none" height="18" viewbox="0 0 24 24" width="18" xmlns="http://www.w3.org/2000/svg">
                    <path class="fill-zinc-600" d="M11.25 18C11.25 18.1989 11.329 18.3897 11.4697 18.5303C11.6103 18.671 11.8011 18.75 12 18.75C12.1989 18.75 12.3897 18.671 12.5303 18.5303C12.671 18.3897 12.75 18.1989 12.75 18V15C12.75 14.8011 12.671 14.6103 12.5303 14.4697C12.3897 14.329 12.1989 14.25 12 14.25C11.8011 14.25 11.6103 14.329 11.4697 14.4697C11.329 14.6103 11.25 14.8011 11.25 15V18Z" fill="black"></path>
                    <path class="fill-zinc-600" clip-rule="evenodd" d="M12 1.25C11.292 1.25 10.649 1.453 9.95 1.792C9.276 2.12 8.496 2.604 7.523 3.208L5.456 4.491C4.536 5.063 3.797 5.521 3.229 5.956C2.64 6.406 2.188 6.866 1.861 7.463C1.535 8.058 1.389 8.692 1.318 9.441C1.25 10.166 1.25 11.054 1.25 12.167V13.78C1.25 15.684 1.25 17.187 1.403 18.362C1.559 19.567 1.889 20.54 2.633 21.309C3.38 22.082 4.33 22.428 5.508 22.591C6.648 22.75 8.106 22.75 9.942 22.75H14.058C15.894 22.75 17.352 22.75 18.492 22.591C19.669 22.428 20.62 22.082 21.368 21.309C22.111 20.54 22.441 19.567 22.598 18.362C22.75 17.187 22.75 15.684 22.75 13.78V12.167C22.75 11.054 22.75 10.167 22.682 9.441C22.612 8.691 22.465 8.058 22.139 7.463C21.812 6.866 21.359 6.407 20.771 5.956C20.203 5.52 19.465 5.063 18.544 4.491L16.477 3.208C15.504 2.604 14.724 2.12 14.049 1.792C13.352 1.452 12.709 1.25 12 1.25ZM8.28 4.504C9.295 3.874 10.01 3.432 10.607 3.141C11.188 2.858 11.6 2.75 12 2.75C12.4 2.75 12.812 2.858 13.393 3.141C13.991 3.431 14.705 3.874 15.72 4.504L17.72 5.745C18.681 6.342 19.356 6.761 19.86 7.147C20.349 7.522 20.63 7.831 20.823 8.183C21.016 8.536 21.129 8.949 21.188 9.581C21.249 10.229 21.25 11.046 21.25 12.204V13.725C21.25 15.695 21.248 17.101 21.11 18.168C20.974 19.216 20.717 19.824 20.29 20.267C19.865 20.706 19.287 20.967 18.286 21.106C17.26 21.248 15.907 21.25 14 21.25H10C8.092 21.25 6.74 21.248 5.714 21.106C4.713 20.966 4.135 20.706 3.711 20.266C3.283 19.824 3.026 19.216 2.891 18.168C2.751 17.101 2.75 15.696 2.75 13.725V12.204C2.75 11.046 2.75 10.229 2.812 9.581C2.871 8.949 2.984 8.536 3.177 8.183C3.37 7.831 3.651 7.522 4.141 7.147C4.644 6.761 5.319 6.342 6.28 5.745L8.28 4.504Z" fill="black" fill-rule="evenodd"></path>
                </svg>
                کدپستی: {{ contact_info.postal_code }}
            </p>
            {% endif %}
            {% if contact_info.working_hours %}
            <p class="flex gap-x-2 text-xs md:text-sm text-zinc-700">
                <svg fill="none" height="18" viewbox="0 0 24 24" width="18" xmlns="http://www.w3.org/2000/svg">
                    <path class="fill-zinc-600" d="M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM12.5 7H11V13L16.2 16.2L17 14.9L12.5 12.2V7Z" fill="black"></path>
                </svg>
                ساعت کاری: {{ contact_info.working_hours }}
            </p>
            {% endif %}
            {% if contact_info.address %}
            <p class="flex gap-x-2 text-xs md:text-sm text-zinc-700">
                <svg fill="none" height="18" viewbox="0 0 24 24" width="18" xmlns="http://www.w3.org/2000/svg">
                    <path class="stroke-zinc-600" d="M15.5 11C15.5 11.4596 15.4095 11.9148 15.2336 12.3394C15.0577 12.764 14.7999 13.1499 14.4749 13.4749C14.1499 13.7999 13.764 14.0577 13.3394 14.2336C12.9148 14.4095 12.4596 14.5 12 14.5C11.5404 14.5 11.0852 14.4095 10.6606 14.2336C10.236 14.0577 9.85013 13.7999 9.52513 13.4749C9.20012 13.1499 8.94231 12.764 8.76642 12.3394C8.59053 11.9148 8.5 11.4596 8.5 11C8.5 10.0717 8.86875 9.1815 9.52513 8.52513C10.1815 7.86875 11.0717 7.5 12 7.5C12.9283 7.5 13.8185 7.86875 14.4749 8.52513C15.1313 9.1815 15.5 10.0717 15.5 11Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path>
                    <path class="stroke-zinc-600" d="M12 2C16.87 2 21 6.033 21 10.926C21 15.896 16.803 19.385 12.927 21.756C12.644 21.9153 12.3247 21.999 12 21.999C11.6753 21.999 11.356 21.9153 11.073 21.756C7.203 19.363 3 15.915 3 10.927C3 6.033 7.13 2 12 2Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path>
                </svg>
                آدرس: {{ contact_info.address }}
            </p>
            {% endif %}
        </div>
        {% if contact_info.map_url %}
        <iframe allowfullscreen="" class="rounded-3xl w-full" height="300" loading="lazy" src="{{ contact_info.map_url }}" title="map-iframe" width="600"></iframe>
        {% else %}
        <iframe allowfullscreen="" class="rounded-3xl w-full" height="300" loading="lazy" src="https://neshan.org/maps/iframe/places/_b11_f_dW_e8#c36.216-57.677-17z-0p/36.21645956215151/57.67662111023142" title="map-iframe" width="600"></iframe>
        {% endif %}
        {% else %}
        <div class="text-center text-zinc-500 py-10">
            <p>اطلاعات تماس در دسترس نیست. لطفاً از پنل مدیریت اطلاعات تماس را اضافه کنید.</p>
        </div>
        {% endif %}
    </div>
</div>
</main>
{% endblock %}
